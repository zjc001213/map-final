"use strict";(self["webpackChunkmap_lhz"]=self["webpackChunkmap_lhz"]||[]).push([[59],{16059:function(t,e,a){a.r(e),a.d(e,{default:function(){return h}});var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("div",[e("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.handleAdd}},[t._v("新增雨量站")]),e("div",{staticStyle:{display:"inline",float:"right","margin-right":"30px"}},[e("el-input",{staticStyle:{width:"200px",margin:"0 30px"},attrs:{type:"text",placeholder:"\nQuery what you want"},model:{value:t.queryInfo,callback:function(e){t.queryInfo=e},expression:"queryInfo"}}),e("el-button",{attrs:{type:"primary"},on:{click:t.queryInformation}},[t._v("查询")])],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[e("el-table-column",{attrs:{prop:"name",label:"雨量站点名"}}),e("el-table-column",{attrs:{prop:"longitude",label:"经度"}}),e("el-table-column",{attrs:{prop:"latitude",label:"纬度"}}),e("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleEdit()}}},[t._v("编辑")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleDel(a.row.id)}}},[t._v("删除")])]}}])})],1),e("div",{},[e("el-pagination",{attrs:{layout:"prev, pager, next",total:t.rainfall_map.length,"current-page":t.currentPage,"page-size.sync":"10"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentPage}})],1),e("el-dialog",{attrs:{title:"新增雨量站",visible:t.show_add}},[e("span",[t._v("name")]),t._v(" "),e("el-input",{attrs:{type:"text"},model:{value:t.add_name,callback:function(e){t.add_name=e},expression:"add_name"}}),e("span",[t._v("latitude")]),e("el-input",{attrs:{type:"text"},model:{value:t.add_longitude,callback:function(e){t.add_longitude=e},expression:"add_longitude"}}),e("span",[t._v("longitude")]),e("el-input",{attrs:{type:"text"},model:{value:t.add_latitude,callback:function(e){t.add_latitude=e},expression:"add_latitude"}}),e("template",{slot:"footer"},[e("el-button",{on:{click:function(e){t.show_add=!1}}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleClose}},[t._v("提交")])],1)],2)],1)},n=[],i=(a(57658),a(57535)),d=a(63822),s={data(){return{list:null,show_add:!1,add_name:"",add_latitude:"",add_longitude:"",currentPage:1,queryInfo:""}},computed:{...(0,d.Se)(["rainfall_map"])},watch:{rainfall_map:{handler(){this.handleCurrentPage(this.currentPage)},deep:!0}},mounted(){this.handleCurrentPage(this.currentPage)},methods:{handleEdit(t){console.log("id",t)},handleDel(t){(0,i.fx)(t).then((e=>{console.log("data",e),200==e.data.code&&"success"==e.data.msg&&this.$store.commit("DEL_RAINFALL",t),console.log("shanchuchengg",t)}))},handleAdd(){this.show_add=!0},handleClose(){this.show_add=!1;const t={latitude:this.add_latitude,longitude:this.add_longitude,name:this.add_name};(0,i.O0)(t).then((()=>{this.add_name="",this.add_latitude="",this.add_longitude="",this.$store.dispatch("getRainfallList")}))},handleCurrentPage(t){if(this.list=[],this.rainfall_map.length<=10)this.list=this.rainfall_map;else if(10*(t-1)+10>this.rainfall_map.length)for(let e=10*(t-1);e<this.rainfall_map.length;e++)this.list.push(this.rainfall_map[e]);else for(let e=10*(t-1);e<10*t;e++)this.list.push(this.rainfall_map[e])},handleSizeChange(){},queryInformation(){""==this.queryInfo.trim()&&console.log("请输入想要查询的站点")}}},o=s,r=a(1001),u=(0,r.Z)(o,l,n,!1,null,"c6b41840",null),h=u.exports}}]);
//# sourceMappingURL=59.b55432e6.js.map